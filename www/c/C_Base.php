<?php//// Базовый контроллер сайта.//abstract class C_Base extends C_Controller{	protected $title;		// заголовок страницы        protected $head;                // подключаемые модули        protected $content;		// содержание страницы	protected $needLogin;	// необходима ли авторизация	protected $user;		// авторизованный пользователь || null        protected $greeting;    //Верхняя планка        	//	// Конструктор.	//	function __construct()	{			$this->needLogin = false;		$this->user = M_Users::Instance()->Get();	}		protected function before()	{		if($this->needLogin && $this->user === null)			$this->redirect('/auth/login');                $this->style = '';        		$this->title = 'BlackBoards';		$this->content = '';                $this->head ='';	}	                  private function renderGreeting(){            if($this->user==NULL)                 $this->greeting =  $this->Template ("v/v_greeting_noreg.php");            else                  $this->greeting = $this->Template ("v/v_greeting_reg.php");        }                	//	// Генерация базового шаблонаы	//		public function render()	{                       $this->renderGreeting();		$vars = array('title' => $this->title, 'content' => $this->content, 'style' => $this->style, 'head' => $this->head, 'greeting' => $this->greeting);			$page = $this->Template('v/v_main.php', $vars);						echo $page;	}              }